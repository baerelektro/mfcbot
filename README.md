# mfcbot

Дядя Саша, [19.12.22 07:33]
Котик, как лучше криптобота делать? Создавать мультисиг на две подписи, один у бота, один у юзера с полным правом подписи у обоих?

Евгений Лисовский, [19.12.22 07:34]
хм

Дядя Саша, [19.12.22 07:35]
Юзеру генерировать сидфразу но не сохранять?

Дядя Саша, [19.12.22 07:35]
Пусть свою сам хранит.

Евгений Лисовский, [19.12.22 07:35]
у тебя в любом случае будет кастодиальный сервис - с хранением ключей.

Евгений Лисовский, [19.12.22 07:35]
если не сохранять - как подписывать транзакции?

Евгений Лисовский, [19.12.22 07:36]
если мультисиг 1-из-2, то смысл от него?

Дядя Саша, [19.12.22 07:36]
ключ у бота свой у юзера свой.

Дядя Саша, [19.12.22 07:36]
оба могут своим подписывать

Дядя Саша, [19.12.22 07:38]
Юзер всегда может вывести своё и без бота, бот может отправить куда нужно по команде юзера в телеге, подписав своим ключём.

Евгений Лисовский, [19.12.22 07:39]
ну так если хранить сид, то юзер и так сможет вывести своё, восстановив кошелёк снаружи.

Дядя Саша, [19.12.22 07:39]
да. Так и нужно же.

Дядя Саша, [19.12.22 07:44]
Юзер и бот имеют равные права на кошелёк.Плюс юзер командует ботом, бот выполняет команды. Код бота открыт и юзер знает что бот делает. Доступа к данным нет ни у кого, кроме бота и сигнера кошелька бота. Но ему придётся доверять. ( Или и там мутить дао с мультисигом чтобы единолично никто не мог выводить средства кроме самого бота с зашифрованным где-то в памяти сервера приватником )

Евгений Лисовский, [19.12.22 07:51]
если это мультисиг, то права одни

Евгений Лисовский, [19.12.22 07:52]
> кроме самого бота с зашифрованным где-то в памяти сервера приватником
так не получится - где-то расшифровка должна храниться

Дядя Саша, [19.12.22 07:52]
нет. Нужно выставить колчество подписантов, необходимое для транзы = 1

Дядя Саша, [19.12.22 07:55]
ну то ясно. Где то в памяти бот должен свой приватник хранить. Просто можно не сохранять на диске. Если бот упал, значит упал и юзер должен подписать свой кошелёк для передачи прав боту заново.

Евгений Лисовский, [19.12.22 07:55]
а в память как он поместит этот приватник?

Дядя Саша, [19.12.22 07:56]
При запуске создаст

Дядя Саша, [19.12.22 07:56]
Рандомно

Дядя Саша, [19.12.22 08:02]
Схема. Запускаешь бота. Он создаёт приватник. Даёт тебе адрес куда кинуть монетку. Деплоит управляющий контракт. И понеслась.

Дядя Саша, [19.12.22 08:07]
Ты можешь его только убить (выключить).  Вычитывание памяти нужно сделать максимально сложным... Может какой-нибудь секюричип заюзать. Но пока для простоты допустим что создателю бота юзер доверяет свои три копейки. Большие суммы ясень пень никто в боте не хранит.

Дядя Саша, [19.12.22 08:10]
Если бот убит, то у юзера остался доступ к кошельку и он может подключить его к новому боту.

Дядя Саша, [19.12.22 08:11]
Или к новой инстанции того же бота.
